\ProvidesPackage{presento}
\mode<presentation>

% removing navigation symbols
\setbeamertemplate{navigation symbols}{}

% packages
\usepackage{xcolor}
\usepackage{setspace}
\usepackage{tikz}
\usepackage{enumitem}

\usepackage{multicol}

% colors
\definecolor{colormain}{HTML}{000000} % orange
\definecolor{colornote}{HTML}{7465b1} % dark gray for note
\definecolor{colornormaltext}{HTML}{000000} % heavy dark gray for normal text
\definecolor{colorbg}{HTML}{fffafc}%{fff2f4} % background
\definecolor{coloraccent}{HTML}{ff0065} % red
\definecolor{colorblue}{HTML}{2e004f} % blue
\definecolor{colorgreen}{HTML}{00FF00} % green
\definecolor{colorbglight}{HTML}{FFF8F9}
\definecolor{colorarena}{HTML}{007544}
\definecolor{coloragents}{HTML}{0000ff}

% font sizes
\newcommand{\fontsizeone}{2em}
\newcommand{\fontsizetwo}{1em}
\newcommand{\fontsizethree}{0.875em}
\newcommand{\fontsizefour}{0.5em}

% beamer template changes
\setbeamertemplate{frametitle}{
	\vspace{0.40em}
	\noindent
	\hspace{-1.5em}
	\color{coloraccent}{\bfseries\insertframetitle}%
}

% frame counter
\newcounter{totalfr}
\setbeamertemplate{footline}{
  \ifnum\inserttotalframenumber=1
    \setcounter{totalfr}{2}
  \else
     \setcounter{totalfr}{\inserttotalframenumber}
  \fi
  \hfill{
    \tikz{
      \filldraw[fill=colorblue!40, draw=colorblue!50]  (0,0) -- (0.2,0) arc (0:{\value{framenumber}*(360/(\value{totalfr}-1))}:0.2) -- (0,0);
      \node at (0,0) {\normalsize \color{colormain}\tiny{\insertframenumber}};
    }
  }
  \hspace{2em}
  \vspace*{1em}
}

% custom commands
\newcommand{\hugetext}[1]{
 {\fontsize{\fontsizeone}{\fontsizeone}{\selectfont #1}}
}

\newcommand{\largetext}[1]{
 {\fontsize{\fontsizetwo}{\fontsizetwo}{\selectfont #1}}
}

\newcommand{\mediumtext}[1]{
 {\fontsize{\fontsizethree}{\fontsizethree}{\selectfont #1}}
}

\newcommand{\smalltext}[1]{
 {\fontsize{\fontsizefour}{\fontsizefour}{\selectfont #1}}
}

\newcommand{\setnote}[1]{
 {\fontsize{\fontsizethree}{\fontsizethree}\color{colornote}{\selectfont #1}}
}

\newcommand{\itemR}{
 \item[\rtarrow]
}

\newcommand{\framecard}[2][coloraccent]{
  {\setbeamercolor{background canvas}{bg=#1}
    \begin{frame}[plain]
    \vfill
    \begin{center}
     {#2}
    \end{center}
    \vfill
    \end{frame}
  }
}
% \newcommand{\framepic}[3][1]{
%   {
%     \usebackgroundtemplate{%
%     \tikz[overlay,remember picture] \node[opacity=#1, at=(current page.center)] {
%       \includegraphics[width=\paperwidth]{#2}};
%     }
%     \begin{frame}
%     #3
%     \end{frame}
%   }
% }

\setbeamercolor{background canvas}{bg=colorbg}
\setbeamercolor{normal text}{fg=colornormaltext}
\setbeamercolor{title}{fg=coloraccent}
\setbeamercolor{subtitle}{fg=colornormaltext}
\setbeamercolor{author}{fg=colorblue}
\setbeamercolor{block title}{fg=coloraccent}
% \setbeamercolor{block title}{bg=colorbglight}
% \setbeamercolor{block body}{bg=colorbglight}

\defbeamertemplate*{title page}{customized}[1][]
{
  \vfill
  \begin{center}
    \usebeamercolor[fg]{title}
    \hugetext{\bfseries Translating Extensive Form Games\\[1ex]to Open Games with Agency}
  \end{center}

  \vspace{2ex}

  \begin{center}
    \usebeamercolor[fg]{subtitle}
    \mediumtext{\textcolor{blue}{\href{https://arxiv.org/abs/2105.06763}{arXiv 2105.06763}}}
  \end{center}

  \vfill
  \begin{center}
    \usebeamercolor[fg]{author}
    \largetext{\href{https://matteocapucci.wordpress.com}{\underline{Matteo Capucci}}, \href{https://personal.cis.strath.ac.uk/neil.ghani/}{Neil Ghani},\\\href{https://personal.cis.strath.ac.uk/jeremy.ledent/}{Jérémy Ledent}, \href{https://fredriknf.com/}{Fredrik Nordvall Forsberg}}\\
    \vspace{2ex}
    \mediumtext{\href{https://msp.cis.strath.ac.uk}{Mathematically Structured Programming group},\\Department of Computer and Information Sciences,\\University of Strathclyde}
  \end{center}

  % \vfill
  % {\usebeamercolor[fg]{institution}\largetext{\insertinstitution}}\\

  \vfill
  {\centering 4th International Conference on Applied Category Theory,\\Cambridge (UK)\\\vspace{1ex}July 14th, 2021\par}
}
